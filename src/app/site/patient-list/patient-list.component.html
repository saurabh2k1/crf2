
<div class="main-content">
  <div class="container-fluid">
    <br/>
      <div class="row">
        <div>
          <mat-chip-list>
            <mat-chip color="primary" [routerLink]="['/site/dashboard']"><mat-icon>dashboard</mat-icon> Dashboard</mat-chip>
            <mat-chip color="primary" selected><mat-icon>assignment_ind</mat-icon> Patients</mat-chip>
          </mat-chip-list>
        </div>
      </div>
    <div class="row">
      <div class="col-md-10 offset-md-1">
        <div class="card">
          <div class="card-header card-header-icon card-header-rose">
            <div class="card-icon">
              <i class="material-icons">assignment_ind</i>
            </div>
            <h4 class="card-title ">
              Enrolled Patients
              <span class="pull-right">
                <a
                  [routerLink]="['/site/patient/new']"
                  class="btn btn-primary "
                  mat-raised-button
                  type="button"
                >
                  <i class="material-icons">add_box</i>Add</a
                ></span
              >
            </h4>
          </div>
          <div class="card-body ">
            <div class="table-responsive mat-elevation-z8">
              <table mat-table [dataSource]="dataSource" class="table ">
                <ng-container matColumnDef="patid">
                  <th mat-header-cell *matHeaderCellDef>Patient ID</th>
                  <td mat-cell *matCellDef="let patient">
                    <a routerLink="/site/visits/{{ patient._id }}">
                    {{ getRefNumber(patient.pat_id, patient.prefix) }}
                    </a>
                  </td>
                </ng-container>
                <ng-container matColumnDef="initials">
                  <th mat-header-cell *matHeaderCellDef>Initials</th>
                  <td mat-cell *matCellDef="let patient">
                    {{ patient.initials }}
                  </td>
                </ng-container>
                <ng-container matColumnDef="dob">
                  <th mat-header-cell *matHeaderCellDef>Date of Birth</th>
                  <td mat-cell *matCellDef="let patient">
                    {{ patient.dob | date }}
                  </td>
                </ng-container>
                <ng-container matColumnDef="enrollment">
                  <th mat-header-cell *matHeaderCellDef>Enrollment Date</th>
                  <td mat-cell *matCellDef="let patient">
                    {{ patient.icf_date | date }}
                  </td>
                </ng-container>
                <ng-container matColumnDef="actions">
                  <th mat-header-cell *matHeaderCellDef class="text-right">
                    Action
                  </th>
                  <td
                    mat-cell
                    class="td-actions text-right"
                    *matCellDef="let patient"
                  >
                    <!-- <a mat-raised-button type="button" class="btn btn-info ">
                              <i class="material-icons">person</i>
                            </a> -->
                    <button routerLink="/site/visits/{{ patient._id }}"
                    matTooltip="Show Visits"
                    mat-icon-button color="primary">
                      <mat-icon>pets</mat-icon>
                    </button>
                    <button
                      routerLink="/site/patient/{{ patient._id }}"
                      matTooltip="Edit"
                      mat-icon-button color="warn"
                    >
                      <mat-icon>edit</mat-icon>
                  </button>
                  </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumn"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumn"></tr>
              </table>

              <mat-paginator
                [pageSizeOptions]="[5, 10, 20]"
                showFirstLastButtons
              ></mat-paginator>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
